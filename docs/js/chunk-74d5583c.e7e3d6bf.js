(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74d5583c"],{"1e4b":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"body"},[i("el-tooltip",{attrs:{effect:"dark",content:"抽奖设置",placement:"right"}},[i("span",{staticClass:"setting",on:{click:function(e){return t.$router.push("/setting")}}})]),i("div",{staticClass:"bg"}),i("div",{staticClass:"temp_container"},t._l(t.domlist,(function(e,n){return i("div",t._b({key:e.phone+"-"+n,staticClass:"temp"},"div",e,!1),[t._v(t._s(e.phone))])})),0),i("div",{staticClass:"box"},[i("div",{staticClass:"logo"}),i("div",{staticClass:"title"},[t._v(t._s(t.tips))]),i("div",{staticClass:"title"},[t._v(t._s(t.msg))]),i("div",{staticClass:"btn",on:{click:t.start}},[i("span",{staticClass:"start"},[i("span",[t._v(t._s(t.btn))])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"dialog"},[i("div",{staticClass:"dialog-bg",on:{click:function(e){t.show=!1}}}),i("div",{staticClass:"border"}),i("div",{staticClass:"dialog-box"},[t._v(t._s(t.winning))])])],1)},r=[],s=i("2909"),a=i("1da1"),o=(i("96cf"),i("b0c0"),i("a434"),i("99af"),i("d81d"),i("cb29"),i("ac1f"),i("5319"),i("fb6a"),{name:"index",data:function(){return{show:!1,winning:"",tips:"",msg:"抽奖即将开始！",btn:"开始",current:null,list:[],domlist:[],status:!1,width:null,height:null}},mounted:function(){var t=this;this.list=JSON.parse(localStorage.getItem("list")||"[]"),this.width=window.innerWidth,this.height=window.innerHeight,window.onresize=function(){t.width=window.innerWidth,t.height=window.innerHeight}},methods:{start:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.list.length){e.next=6;break}return e.next=3,t.$confirm("无参与抽奖的人员,是否去添加？","提示！",{type:"warning"});case 3:if(!e.sent){e.next=5;break}t.$router.push("/setting");case 5:return e.abrupt("return");case 6:if(!t.status){e.next=8;break}return e.abrupt("return",t.stop());case 8:if(!t.show){e.next=10;break}return e.abrupt("return");case 10:t.tan(),t.status=!0,t.current=null,t.tips="正在抽奖",t.btn="停止",t.timer=setInterval((function(){var e,i,n=t.random(0,t.list.length);t.current=n;var r=(null===(e=t.list[n])||void 0===e?void 0:e.name)||"",s=(null===(i=t.list[n])||void 0===i?void 0:i.phone)||"";t.msg=t.re(r,1,2)+" "+t.re(s,3,7,"****")}),50);case 16:case"end":return e.stop()}}),e)})))()},stop:function(){clearInterval(this.timer),clearTimeout(this.tanTimer),this.status=!1,this.btn="继续";var t=this.list[this.current].phone;this.winning="".concat(this.re(t,3,7,"****")),this.show=!0;var e=this.list.splice(this.current,1),i=JSON.parse(localStorage.getItem("draw")||"[]");localStorage.setItem("list",JSON.stringify(this.list)),localStorage.setItem("draw",JSON.stringify(e.concat(i)))},tan:function(){var t,e=this;clearTimeout(this.tanTimer);var i=new Array(10).fill().map((function(){var t,i,n=e.random(0,e.list.length),r=e.re((null===(t=e.list[n])||void 0===t?void 0:t.name)||"",1,2),s=e.re((null===(i=e.list[n])||void 0===i?void 0:i.phone)||"",3,7,"****"),a=e.random(0,e.width)+"px",o=e.random(0,e.height)+"px",l=e.random(10,30)+"px",c="rgba(255,255,255,".concat(e.random(8,10)/10,")"),d={left:a,top:o,fontSize:l,color:c};return{name:r,phone:Math.ceil(1*Math.random()-.5)?r:s,style:d}}));(t=this.domlist).push.apply(t,Object(s["a"])(i)),this.tanTimer=setTimeout((function(){return e.tan()}),1e3)},random:function(t,e){return Math.floor(Math.random()*(e-t)+t)},re:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"*";return t+="",t.replace(t.slice(e,i),n)}}}),l=o,c=(i("a697"),i("2877")),d=Object(c["a"])(l,n,r,!1,null,"bd4ce152",null);e["default"]=d.exports},"81d5":function(t,e,i){"use strict";var n=i("7b0b"),r=i("23cb"),s=i("50c4");t.exports=function(t){var e=n(this),i=s(e.length),a=arguments.length,o=r(a>1?arguments[1]:void 0,i),l=a>2?arguments[2]:void 0,c=void 0===l?i:r(l,i);while(c>o)e[o++]=t;return e}},a1c4:function(t,e,i){},a434:function(t,e,i){"use strict";var n=i("23e7"),r=i("23cb"),s=i("a691"),a=i("50c4"),o=i("7b0b"),l=i("65f0"),c=i("8418"),d=i("1dde"),u=d("splice"),h=Math.max,f=Math.min,v=9007199254740991,p="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var i,n,d,u,g,m,w=o(this),b=a(w.length),x=r(t,b),C=arguments.length;if(0===C?i=n=0:1===C?(i=0,n=b-x):(i=C-2,n=f(h(s(e),0),b-x)),b+i-n>v)throw TypeError(p);for(d=l(w,n),u=0;u<n;u++)g=x+u,g in w&&c(d,u,w[g]);if(d.length=n,i<n){for(u=x;u<b-n;u++)g=u+n,m=u+i,g in w?w[m]=w[g]:delete w[m];for(u=b;u>b-n+i;u--)delete w[u-1]}else if(i>n)for(u=b-n;u>x;u--)g=u+n-1,m=u+i-1,g in w?w[m]=w[g]:delete w[m];for(u=0;u<i;u++)w[u+x]=arguments[u+2];return w.length=b-n+i,d}})},a697:function(t,e,i){"use strict";i("a1c4")},cb29:function(t,e,i){var n=i("23e7"),r=i("81d5"),s=i("44d2");n({target:"Array",proto:!0},{fill:r}),s("fill")},d81d:function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").map,s=i("1dde"),a=s("map");n({target:"Array",proto:!0,forced:!a},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-74d5583c.e7e3d6bf.js.map